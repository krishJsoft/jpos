
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:b="http://www.eclipse.org/birt/taglibs/birt.tld"
	xmlns:birt="urn:jsptld:/WEB-INF/tlds/birt.tld">


	<script language="JavaScript" type="text/javascript"
		src="${facesContext.externalContext.requestContextPath}/resources/js/report.js">
		
	</script>


	<h:form id="purchaseRequestReportForm">
		<p:outputPanel id="purchaseRequestReportPanel">

			<table align="center" width="100%" border="0">
				<tr>
					<td align="center"><p:message for="purchaseRequestReportPanel" /></td>
				</tr>
			</table>

			<p:panel styleClass="mypanel" header="purchaseRequest Report">

				<h:panelGrid id="purchaseRequestGrid" columns="10" border="0"
					width="70%"
					columnClasses="columnLeft width-5px, columnLeft width-120px, columnLeft width-10px, columnLeft width-280px, columnLeft width-280px ,columnLeft">

					<h:outputText value="" styleClass="mandatory_text" />
					<h:outputText value="Branch Name" styleClass="logintxt"></h:outputText>
					<h:outputText value=":" />
					<p:selectOneMenu id="branchId"
						value="#{purchaseRequestBean.branchId}"
						style="width:160px; text-align:left;">
						<f:selectItem itemLabel="Select Branch" itemValue="0" />
						<f:selectItems value="#{commonListBean.selectBranchList}"></f:selectItems>
					</p:selectOneMenu>
					<p:message for="branchId" styleClass="fieldError" />

					<h:outputText value="" styleClass="mandatory_text" />
					<h:outputText value="Reference No" styleClass="logintxt"></h:outputText>
					<h:outputText value=":" />
					<p:inputText id="referenceNo" size="25"
						value="#{purchaseRequestBean.referenceNo}" />
					<p:message for="referenceNo" styleClass="fieldError" />

					<h:outputText value="" styleClass="mandatory_text" />
					<h:outputText value="Date From" styleClass="logintxt"></h:outputText>
					<h:outputText value=":" />
					<p:calendar navigator="true" id="dateFrom" size="25"
						value="#{purchaseRequestBean.dateFrom}"
						pattern="dd-MMM-yyyy HH:mm" />
					<p:message for="dateFrom" styleClass="fieldError" />

					<h:outputText value="" styleClass="mandatory_text" />
					<h:outputText value="Date To" styleClass="logintxt"></h:outputText>
					<h:outputText value=":" />
					<p:calendar navigator="true" id="dateTo" size="25"
						value="#{purchaseRequestBean.dateTo}" pattern="dd-MMM-yyyy HH:mm" />
					<p:message for="dateTo" styleClass="fieldError" />

					<h:outputText value="" styleClass="mandatory_text" />
					<h:outputText value="Status " styleClass="logintxt"></h:outputText>
					<h:outputText value=":" />
					<p:selectOneMenu id="status" style="width:160px; float :left;"
						value="#{purchaseRequestBean.status}" styleClass="inputCombo">
						<f:selectItem itemValue="" itemLabel="Select Status"></f:selectItem>
						<f:selectItems value="#{commonListBean.purchaseRequestStatusList}"></f:selectItems>
					</p:selectOneMenu>
					<p:message for="status" styleClass="fieldError" />


					<h:outputText value="" />
					<h:outputText value="" />
					<h:outputText value="" />
					<h:panelGrid columns="2" border="0"
						columnClasses="columnLeft width-120px, columnLeft width-180px,columnLeft">

					<h:commandLink value="Report Details" onclick="generatePurchaseRequestListReport('purchaseRequestListReport.rptdesign',#{purchaseRequestBean.referenceNo},#{purchaseRequestBean.branchId},#{purchaseRequestBean.dateFrom},#{purchaseRequestBean.dateTo},#{purchaseRequestBean.status})" >
					</h:commandLink>
						<a href="#" onclick="generatePurchaseRequestListReport('purchaseRequestListReport.rptdesign',document.getElementById('purchaseRequestReportForm:referenceNo'),document.getElementById('purchaseRequestReportForm:branchId'),document.getElementById('purchaseRequestReportForm:dateFrom_s'),document.getElementById('purchaseRequestReportForm:dateTo'),document.getElementById('purchaseRequestReportForm:status'))">
						Report Details</a>
					</h:panelGrid>
					<h:outputText value="" />

				</h:panelGrid>

				
				<br></br>

				<div>

					<div id="downloadOptions" align="center">
						<div id="paginationDiv"></div>
						Download Report as : <a href="#" onclick="downloadReport('pdf')"><h:graphicImage
								value="resources/images/pdf.png" /> </a> <a href="#"
							onclick="downloadReport('xls')"> <h:graphicImage
								value="resources/images/excel.png" /></a>
					</div>

					<fieldset style="background-color: white;">
						<legend>
							<b style="color: #84A9CF">Report Details:</b>
						</legend>

						<h:panelGrid width="100%" styleClass="bgcolor" cellpadding="3"
							cellspacing="3">

							<div id="reportData"
								style="height: auto; background-color: white; float: center; min-width: 100%; text-align: center;"
								align="center"></div>

						</h:panelGrid>

					</fieldset>

				</div>
			</p:panel>



		</p:outputPanel>

	</h:form>

</ui:composition>
